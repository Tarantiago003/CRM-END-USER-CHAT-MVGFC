<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Certificate Generator - MVGFCI</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #E8F5E9 0%, #C8E6C9 100%);
            min-height: 100vh;
            padding: 40px 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            box-shadow: 0 10px 40px rgba(27, 94, 32, 0.15);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #1B5E20, #2E7D32);
            color: white;
            padding: 40px;
            text-align: center;
        }

        .header h1 {
            font-size: 42px;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .nav-tabs {
            display: flex;
            justify-content: center;
            gap: 40px;
            margin-top: 20px;
        }

        .nav-tab {
            color: white;
            text-decoration: none;
            font-size: 16px;
            padding: 10px 20px;
            border-bottom: 3px solid transparent;
            transition: all 0.3s;
        }

        .nav-tab.active {
            border-bottom-color: #FFD700;
        }

        .form-section {
            padding: 50px 40px;
        }

        .section-title {
            font-size: 32px;
            font-weight: 700;
            color: #2C3E50;
            margin-bottom: 40px;
        }

        .form-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 40px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-group.full-width {
            grid-column: 1 / -1;
        }

        .form-label {
            font-size: 14px;
            font-weight: 600;
            color: #2C3E50;
            margin-bottom: 8px;
        }

        .form-input {
            padding: 14px 16px;
            border: 2px solid #E0E0E0;
            border-radius: 8px;
            font-size: 15px;
            font-family: inherit;
            transition: all 0.3s;
            background: #F9F9F9;
        }

        .form-input:focus {
            outline: none;
            border-color: #1B5E20;
            background: white;
        }

        .generate-btn {
            width: 100%;
            max-width: 400px;
            margin: 0 auto;
            display: block;
            padding: 16px 32px;
            background: linear-gradient(135deg, #1B5E20, #2E7D32);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 12px rgba(27, 94, 32, 0.3);
        }

        .generate-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(27, 94, 32, 0.4);
            background: linear-gradient(135deg, #2E7D32, #388E3C);
        }

        .preview-section {
            padding: 50px 40px;
            background: #F9F9F9;
            border-top: 2px solid #E8F5E9;
        }

        .preview-title {
            font-size: 28px;
            font-weight: 700;
            color: #2C3E50;
            margin-bottom: 30px;
            text-align: center;
        }

        .certificate-container {
            background: white;
            border: 8px solid #1B5E20;
            border-radius: 12px;
            padding: 40px;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
            position: relative;
            max-width: 800px;
            margin: 0 auto;
        }

        .certificate-corners {
            position: absolute;
            width: 40px;
            height: 40px;
            border: 3px solid #2E7D32;
        }

        .corner-tl {
            top: 15px;
            left: 15px;
            border-right: none;
            border-bottom: none;
            border-radius: 8px 0 0 0;
        }

        .corner-tr {
            top: 15px;
            right: 15px;
            border-left: none;
            border-bottom: none;
            border-radius: 0 8px 0 0;
        }

        .corner-bl {
            bottom: 15px;
            left: 15px;
            border-right: none;
            border-top: none;
            border-radius: 0 0 0 8px;
        }

        .corner-br {
            bottom: 15px;
            right: 15px;
            border-left: none;
            border-top: none;
            border-radius: 0 0 8px 0;
        }

        .certificate-header {
            text-align: center;
            margin-bottom: 25px;
        }

        .cert-logo {
            width: 80px;
            height: 80px;
            margin: 0 auto 15px;
        }

        .cert-logo img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .cert-school-name {
            font-size: 12px;
            color: #666;
            margin-bottom: 5px;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .cert-title {
            font-size: 30px;
            font-weight: 700;
            color: #1B5E20;
            margin-bottom: 10px;
        }

        .cert-subtitle {
            font-size: 14px;
            color: #666;
        }

        .certificate-body {
            text-align: center;
            margin: 30px 0;
        }

        .recipient-name {
            font-size: 28px;
            font-weight: 700;
            color: #2C3E50;
            margin: 15px 0;
            padding: 12px 0;
            border-bottom: 2px solid #1B5E20;
            display: inline-block;
            min-width: 400px;
        }

        .certificate-text {
            font-size: 13px;
            color: #666;
            line-height: 1.8;
            margin: 25px auto;
            max-width: 700px;
            text-align: left;
        }

        .certificate-text strong {
            color: #1B5E20;
        }

        .benefits-list {
            list-style: none;
            margin: 15px 0;
            padding-left: 20px;
        }

        .benefits-list li {
            margin: 8px 0;
            position: relative;
            padding-left: 20px;
        }

        .benefits-list li:before {
            content: "•";
            position: absolute;
            left: 0;
            color: #1B5E20;
            font-weight: bold;
        }

        .date-section {
            margin: 20px 0;
            font-size: 13px;
            color: #666;
        }

        .validation-box {
            background: #F0F8F0;
            border-left: 4px solid #1B5E20;
            padding: 15px;
            margin: 20px 0;
            border-radius: 4px;
        }

        .validation-box h4 {
            color: #1B5E20;
            margin-bottom: 10px;
            font-size: 14px;
        }

        .validation-box ul {
            list-style: none;
            padding-left: 0;
        }

        .validation-box li {
            margin: 6px 0;
            font-size: 12px;
            color: #666;
            position: relative;
            padding-left: 20px;
        }

        .validation-box li:before {
            content: "•";
            position: absolute;
            left: 0;
            color: #1B5E20;
            font-weight: bold;
        }

        .certificate-footer {
            display: flex;
            justify-content: space-between;
            align-items: end;
            margin-top: 40px;
            padding-top: 20px;
        }

        .signature-block {
            text-align: center;
            flex: 1;
        }

        .ref-block {
            text-align: left;
            flex: 1;
        }

        .signature-image {
            height: 60px;
            margin-bottom: 5px;
        }

        .signature-image img {
            height: 100%;
            object-fit: contain;
        }

        .signature-line {
            border-top: 2px solid #2C3E50;
            margin: 0 auto 10px;
            width: 200px;
        }

        .signature-label {
            font-size: 11px;
            color: #666;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .ref-label {
            font-size: 12px;
            font-weight: 600;
            color: #2C3E50;
            margin-bottom: 5px;
        }

        .ref-number {
            font-size: 14px;
            color: #666;
            font-family: 'Courier New', monospace;
        }

        .download-btn {
            width: 100%;
            max-width: 400px;
            margin: 40px auto 0;
            display: block;
            padding: 16px 32px;
            background: #2196F3;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 12px rgba(33, 150, 243, 0.3);
        }

        .download-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(33, 150, 243, 0.4);
            background: #1976D2;
        }

        @media (max-width: 768px) {
            .form-grid {
                grid-template-columns: 1fr;
            }

            .header h1 {
                font-size: 32px;
            }

            .cert-title {
                font-size: 24px;
            }

            .recipient-name {
                font-size: 20px;
                min-width: 250px;
            }

            .certificate-footer {
                flex-direction: column;
                gap: 30px;
            }

            .signature-block,
            .ref-block {
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>MVGFCI Certificate Generator</h1>
            <div class="nav-tabs">
                <a href="#" class="nav-tab active">Home</a>
            </div>
        </div>

        <div class="form-section">
            <h2 class="section-title">Enter Details</h2>
            <form id="certificateForm">
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Full Name</label>
                        <input 
                            type="text" 
                            class="form-input" 
                            id="fullName" 
                            placeholder="e.g., Jane Doe"
                            required
                        >
                    </div>
                    <div class="form-group">
                        <label class="form-label">Reference Number (16 characters)</label>
                        <input 
                            type="text" 
                            class="form-input" 
                            id="refNumber" 
                            placeholder="e.g., ABCD-1234-EFGH-5678"
                            maxlength="19"
                            required
                        >
                    </div>
                    <div class="form-group">
                        <label class="form-label">Certificate Date</label>
                        <input 
                            type="date" 
                            class="form-input" 
                            id="certDate" 
                            required
                        >
                    </div>
                </div>
                <button type="submit" class="generate-btn">Generate Certificate</button>
            </form>
        </div>

        <div class="preview-section" id="previewSection" style="display: none;">
            <h2 class="preview-title">Your Certificate</h2>
            
            <div class="certificate-container" id="certificate">
                <div class="certificate-corners corner-tl"></div>
                <div class="certificate-corners corner-tr"></div>
                <div class="certificate-corners corner-bl"></div>
                <div class="certificate-corners corner-br"></div>

                <div class="certificate-header">
                    <div class="cert-logo">
                        <img src="mvgfci-logo.png" alt="MVGFCI Logo" onerror="this.style.display='none'">
                    </div>
                    <div class="cert-school-name">Manuel V. Gallego Foundation Colleges Inc.</div>
                    <div class="cert-title">CERTIFICATE OF CONFIRMATION</div>
                    <div class="cert-subtitle">This certificate is proudly presented to:</div>
                </div>

                <div class="certificate-body">
                    <div class="recipient-name" id="certName">[Name]</div>
                    
                    <div class="certificate-text">
                        For having successfully passed the rigorous selection process and demonstrating the academic potential and character required of an <strong>Alagang Gallegan Scholar</strong>.
                        <br><br>
                        By virtue of this award, the scholar is entitled to a <strong>100% Tuition Discount</strong> and full access to the comprehensive benefits of the <strong>Alagang Gallegan program</strong> for the duration of their four-year degree, including:
                        
                        <ul class="benefits-list">
                            <li><strong>Free Academic Mentors and Coaches:</strong> Priority mentorship from dedicated academic mentors.</li>
                            <li><strong>ENROLLMENT to EMPLOYMENT:</strong> 4 Years Validity</li>
                            <li><strong>Fully Air Conditioned Facilities:</strong> Full access to air-conditioned learning environments.</li>
                            <li><strong>No Entrance Examination for Admission:</strong> Waiver of all entrance examination requirements and hidden charges.</li>
                        </ul>
                        
                        <div class="date-section">
                            Given this <span id="certDay"></span> day of <span id="certMonthYear"></span>.
                        </div>

                        <div class="validation-box">
                            <h4>VALIDATION & ENROLLMENT SUMMARY</h4>
                            <ul>
                                <li><strong>Deadline for Claim:</strong> May 1 - July 30, 2026</li>
                                <li><strong>Instructions:</strong> Present this certificate to the Marketing Office to finalize your enrollment.</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="certificate-footer">
                    <div class="ref-block">
                        <div class="ref-label">Ref No:</div>
                        <div class="ref-number" id="certRef">____-____-____-____</div>
                    </div>

                    <div class="signature-block">
                        <div class="signature-image">
                            <img id="signatureImg" src="signature.png" alt="Signature" onerror="this.src='data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%27200%27 height=%2760%27 viewBox=%270 0 200 60%27%3E%3Cpath d=%27M 10 40 Q 30 10, 50 40 T 90 40 Q 110 20, 130 40 T 170 40%27 stroke=%27%231B5E20%27 stroke-width=%272%27 fill=%27none%27 stroke-linecap=%27round%27/%3E%3C/svg%3E'">
                        </div>
                        <div class="signature-line"></div>
                        <div class="signature-label">Authorized Signature</div>
                    </div>
                </div>
            </div>

            <button class="download-btn" id="downloadBtn">Download Certificate (PDF)</button>
        </div>
    </div>

    <script>
        const certificateForm = document.getElementById('certificateForm');
        const previewSection = document.getElementById('previewSection');
        const certName = document.getElementById('certName');
        const certRef = document.getElementById('certRef');
        const certDay = document.getElementById('certDay');
        const certMonthYear = document.getElementById('certMonthYear');
        const refNumberInput = document.getElementById('refNumber');
        const downloadBtn = document.getElementById('downloadBtn');

        // Format reference number with dashes
        refNumberInput.addEventListener('input', function(e) {
            let value = e.target.value.replace(/[^A-Za-z0-9]/g, '').toUpperCase();
            
            if (value.length > 16) {
                value = value.substring(0, 16);
            }
            
            let formatted = '';
            for (let i = 0; i < value.length; i++) {
                if (i > 0 && i % 4 === 0) {
                    formatted += '-';
                }
                formatted += value[i];
            }
            
            e.target.value = formatted;
        });

        // Generate Certificate
        certificateForm.addEventListener('submit', function(e) {
            e.preventDefault();

            const fullName = document.getElementById('fullName').value.trim();
            const refNumber = refNumberInput.value.trim();
            const certDate = new Date(document.getElementById('certDate').value);

            if (!fullName || !refNumber || !certDate) {
                alert('Please fill in all fields');
                return;
            }

            // Validate reference number (should be 16 alphanumeric characters with dashes)
            const cleanRef = refNumber.replace(/-/g, '');
            if (cleanRef.length !== 16 || !/^[A-Z0-9]{16}$/.test(cleanRef)) {
                alert('Reference number must be exactly 16 alphanumeric characters');
                return;
            }

            // Update certificate
            certName.textContent = fullName;
            certRef.textContent = refNumber;
            
            // Format date
            const day = certDate.getDate();
            const month = certDate.toLocaleDateString('en-US', { month: 'long' });
            const year = certDate.getFullYear();
            
            certDay.textContent = day;
            certMonthYear.textContent = `${month}, ${year}`;

            // Show preview
            previewSection.style.display = 'block';
            
            // Smooth scroll to certificate
            setTimeout(() => {
                previewSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }, 100);
        });

        // Download as PDF
        downloadBtn.addEventListener('click', async function() {
            const { jsPDF } = window.jspdf;
            const pdf = new jsPDF({
                orientation: 'landscape',
                unit: 'mm',
                format: 'a4'
            });

            const fullName = document.getElementById('fullName').value;
            const refNumber = refNumberInput.value;
            const certDate = new Date(document.getElementById('certDate').value);
            const day = certDate.getDate();
            const month = certDate.toLocaleDateString('en-US', { month: 'long' });
            const year = certDate.getFullYear();

            // Background
            pdf.setFillColor(255, 255, 255);
            pdf.rect(0, 0, 297, 210, 'F');

            // Border
            pdf.setDrawColor(27, 94, 32);
            pdf.setLineWidth(3);
            pdf.rect(10, 10, 277, 190);

            // Decorative corners
            pdf.setLineWidth(1);
            pdf.line(15, 15, 30, 15);
            pdf.line(15, 15, 15, 30);
            pdf.line(267, 15, 282, 15);
            pdf.line(282, 15, 282, 30);
            pdf.line(15, 195, 30, 195);
            pdf.line(15, 195, 15, 180);
            pdf.line(267, 195, 282, 195);
            pdf.line(282, 195, 282, 180);

            // School Name
            pdf.setFontSize(9);
            pdf.setTextColor(100, 100, 100);
            pdf.text('MANUEL V. GALLEGO FOUNDATION COLLEGES INC.', 148.5, 30, { align: 'center' });

            // Certificate Title
            pdf.setFontSize(26);
            pdf.setTextColor(27, 94, 32);
            pdf.setFont(undefined, 'bold');
            pdf.text('CERTIFICATE OF CONFIRMATION', 148.5, 40, { align: 'center' });

            // Subtitle
            pdf.setFontSize(11);
            pdf.setTextColor(100, 100, 100);
            pdf.setFont(undefined, 'normal');
            pdf.text('This certificate is proudly presented to:', 148.5, 48, { align: 'center' });

            // Recipient Name
            pdf.setFontSize(20);
            pdf.setTextColor(44, 62, 80);
            pdf.setFont(undefined, 'bold');
            pdf.text(fullName, 148.5, 60, { align: 'center' });

            // Underline
            pdf.setDrawColor(27, 94, 32);
            pdf.setLineWidth(0.5);
            pdf.line(60, 62, 237, 62);

            // Certificate Text
            pdf.setFontSize(9);
            pdf.setTextColor(100, 100, 100);
            pdf.setFont(undefined, 'normal');
            
            const textLines = [
                'For having successfully passed the rigorous selection process and demonstrating the academic potential',
                'and character required of an Alagang Gallegan Scholar.',
                '',
                'By virtue of this award, the scholar is entitled to a 100% Tuition Discount and full access to the',
                'comprehensive benefits of the Alagang Gallegan program for the duration of their four-year degree, including:'
            ];
            
            let yPos = 72;
            textLines.forEach(line => {
                pdf.text(line, 148.5, yPos, { align: 'center' });
                yPos += 5;
            });

            // Benefits
            yPos += 2;
            const benefits = [
                '• Free Academic Mentors and Coaches: Priority mentorship from dedicated academic mentors.',
                '• ENROLLMENT to EMPLOYMENT: 4 Years Validity',
                '• Fully Air Conditioned Facilities: Full access to air-conditioned learning environments.',
                '• No Entrance Examination for Admission: Waiver of all entrance examination requirements and hidden charges.'
            ];
            
            pdf.setFontSize(8);
            benefits.forEach(benefit => {
                pdf.text(benefit, 30, yPos, { maxWidth: 237 });
                yPos += 5;
            });

            // Date
            yPos += 5;
            pdf.setFontSize(9);
            pdf.text(`Given this ${day} day of ${month}, ${year}.`, 148.5, yPos, { align: 'center' });

            // Validation box
            yPos += 8;
            pdf.setDrawColor(27, 94, 32);
            pdf.setFillColor(240, 248, 240);
            pdf.rect(30, yPos, 237, 20, 'FD');
            
            pdf.setFontSize(9);
            pdf.setTextColor(27, 94, 32);
            pdf.setFont(undefined, 'bold');
            pdf.text('VALIDATION & ENROLLMENT SUMMARY', 35, yPos + 5);
            
            pdf.setFontSize(8);
            pdf.setTextColor(100, 100, 100);
            pdf.setFont(undefined, 'normal');
            pdf.text('• Deadline for Claim: May 1 - July 30, 2026', 35, yPos + 10);
            pdf.text('• Instructions: Present this certificate to the Marketing Office to finalize your enrollment.', 35, yPos + 15);

            // Reference Number
            pdf.setFontSize(9);
            pdf.setTextColor(44, 62, 80);
            pdf.setFont(undefined, 'bold');
            pdf.text('Ref No:', 30, 175);
            pdf.setFont(undefined, 'normal');
            pdf.setFontSize(10);
            pdf.text(refNumber, 30, 180);

            // Signature (simplified representation)
            pdf.setDrawColor(27, 94, 32);
            pdf.setLineWidth(0.8);
            pdf.line(220, 165, 230, 162);
            pdf.line(230, 162, 240, 165);
            pdf.line(240, 165, 250, 160);
            pdf.line(250, 160, 260, 163);
            pdf.line(260, 163, 270, 162);

            // Signature Line
            pdf.setLineWidth(0.5);
            pdf.line(220, 172, 270, 172);
            pdf.setFontSize(7);
            pdf.setTextColor(100, 100, 100);
            pdf.text('AUTHORIZED SIGNATURE', 245, 177, { align: 'center' });

            // Save PDF
            pdf.save(`Certificate_${fullName.replace(/\s+/g, '_')}_${refNumber.replace(/-/g, '')}.pdf`);
        });
    </script>
</body>
</html>
